(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["11a4e92c"],{"0c6c":function(t,e,a){"use strict";a.r(e);var n=a("b1e5"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"135b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-input",{attrs:{value:t.value,label:t.label,filled:"",autofocus:t.autofocus,color:t.color||"primary","bottom-slots":!t.noBottomSlots},on:{change:function(e){return t.checkInput(e)}},scopedSlots:t._u([t.value?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle"},on:{click:function(e){return e.stopPropagation(),t.$emit("input","")}}})]},proxy:!0}:null],null,!0)})},o=[];a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}))},"1c21":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6"),a("28a5"),a("6b54"),a("06db");var n=a("e2da"),o={name:"DateInput",props:{label:{type:String,required:!0},value:{type:String,required:!0},color:{type:String,required:!1},autofocus:{type:Boolean,required:!1},noBottomSlots:{type:Boolean,required:!1}},methods:{checkInput:function(t){var e=t.target.value;""===e&&this.$emit("input","");var a,o,r,i=new Date,l=i.getDate().toString(),u=(i.getMonth()+1).toString(),c=i.getFullYear().toString();if("t"===e)a=l,o=u,r=c;else{var s=e.split(".");a=s[0],o=s[1]||u,r=s[2]||c}1===a.length&&(a="0".concat(a)),1===o.length&&(o="0".concat(o)),r.length<3&&(r=this.prependCentury(r,c)),(0,n.isValidDate)(a,o,r)&&this.$emit("input","".concat(a,".").concat(o,".").concat(r))},prependCentury:function(t,e){var a=Number(t),n=Number(e.slice(-2));return a<=n?"20".concat(t):"19".concat(t)}}};e.default=o},"2e70":function(t,e,a){"use strict";a.r(e);var n=a("a99e"),o=a("42e3");for(var r in o)"default"!==r&&function(t){a.d(e,t,(function(){return o[t]}))}(r);var i=a("2877"),l=a("9989"),u=a.n(l),c=a("eb85"),s=a.n(c),f=a("9c40"),d=a.n(f),p=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=p.exports,p.options.components=Object.assign({QPage:u(),QSeparator:s(),QBtn:d()},p.options.components)},"42e3":function(t,e,a){"use strict";a.r(e);var n=a("64b8"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"4d9e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row text-body1 q-gutter-x-md q-mb-sm"},[a("div",{staticClass:"col-2 text-right"},[t._v(t._s(t.label)+":")]),a("div",{staticClass:"text-secondary cursor-pointer",class:t.widthClass},[a("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.displayValue))]),a("q-popup-edit",{on:{save:function(e){return t.$emit("input",t.localValue)}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.set,o=e.cancel;return[t.isTextInput||t.isTextArea?a("q-input",{attrs:{type:t.isTextArea?"textarea":"text",autogrow:t.isTextArea,label:t.label,filled:"",clearable:"",autofocus:"",color:t.inputColor},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}}):t._e(),t.isDateInput?a("date-input",{attrs:{label:t.label,color:t.inputColor,autofocus:"","no-bottom-slots":""},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}}):t._e(),a("div",{staticClass:"q-popup-edit__buttons row justify-center no-wrap"},[a("q-btn",{attrs:{flat:"",color:"negative"},on:{click:function(t){return t.stopPropagation(),o(t)}}},[t._v("Peruuta")]),a("q-btn",{attrs:{color:t.inputColor,glossy:""},on:{click:function(t){return t.stopPropagation(),n(t)}}},[t._v("Hyväksy")])],1)]}}]),model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})],1)])},o=[];a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}))},"64b8":function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("6d83")),r=n(a("d188")),i={components:{DataEntryRow:r.default},data:function(){return{formDataLocal:{},dataUpdate:!1,followupDefaults:null}},computed:{formData:function(){return this.$store.state.followup}},methods:{addDefaultText:function(t,e){var a=!!this.formDataLocal[t];this.formDataLocal[t]+="".concat(a?"\n\n":"").concat(e)}},watch:{formData:{handler:function(){this.dataUpdate=!0,this.formDataLocal=(0,o.default)(this.formData)},deep:!0},formDataLocal:{handler:function(){this.dataUpdate?this.dataUpdate=!1:this.$store.dispatch("updateFollowup",this.formDataLocal)},deep:!0}},created:function(){var t=this;this.formDataLocal=(0,o.default)(this.formData),this.$axios.get("/statics/data/followupDefaults.json").then((function(e){t.followupDefaults=e.data})).catch((function(){t.$q.notify({icon:"mdi-alert-circle",color:"negative",message:"Virhe oletustekstien lataamisessa"})}))}};e.default=i},a504:function(t,e,a){"use strict";a.r(e);var n=a("1c21"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},a99e:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-gutter-md",attrs:{padding:""}},[a("div",{staticClass:"text-h6"},[t._v("Jälkiseurantaohjeet")]),a("data-entry-row",{attrs:{label:"Yleiset ohjeet",type:"textarea",width:8},model:{value:t.formDataLocal.general,callback:function(e){t.$set(t.formDataLocal,"general",e)},expression:"formDataLocal.general"}}),a("data-entry-row",{attrs:{label:"Rokotusohjeet",type:"textarea",width:8},model:{value:t.formDataLocal.vaccination,callback:function(e){t.$set(t.formDataLocal,"vaccination",e)},expression:"formDataLocal.vaccination"}}),a("q-separator"),a("div",{staticClass:"text-h6"},[t._v("Lisää vakioteksti:")]),a("div",{staticClass:"row q-gutter-md items-center"},[a("span",[t._v("Yleiset:")]),t._l(t.followupDefaults.general,(function(e){return a("q-btn",{key:e.label,attrs:{color:"secondary"},on:{click:function(a){return t.addDefaultText("general",e.text)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}))],2),a("div",{staticClass:"row q-gutter-md items-center"},[a("span",[t._v("Rokotukset:")]),t._l(t.followupDefaults.vaccination,(function(e){return a("q-btn",{key:e.label,attrs:{color:"secondary"},on:{click:function(a){return t.addDefaultText("vaccination",e.text)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}))],2)],1)},o=[];a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}))},b1e5:function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var o=n(a("c3fd")),r={name:"DataEntryRow",components:{DateInput:o.default},props:{label:{type:String,required:!0},value:{type:String,required:!0},type:{type:String,required:!1},width:{type:Number,required:!1}},data:function(){return{inputColor:"secondary",localValue:""}},computed:{displayValue:function(){return this.localValue||"Ei syötetty"},isTextInput:function(){return!this.type||"text"===this.type},isTextArea:function(){return"textarea"===this.type},isDateInput:function(){return"date"===this.type},widthClass:function(){return["col-".concat(this.width||3)]}},watch:{value:function(){this.localValue=this.value}},created:function(){this.localValue=this.value}};e.default=r},c3fd:function(t,e,a){"use strict";a.r(e);var n=a("135b"),o=a("a504");for(var r in o)"default"!==r&&function(t){a.d(e,t,(function(){return o[t]}))}(r);var i=a("2877"),l=a("27f9"),u=a.n(l),c=a("0016"),s=a.n(c),f=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=f.exports,f.options.components=Object.assign({QInput:u(),QIcon:s()},f.options.components)},d188:function(t,e,a){"use strict";a.r(e);var n=a("4d9e"),o=a("0c6c");for(var r in o)"default"!==r&&function(t){a.d(e,t,(function(){return o[t]}))}(r);var i=a("2877"),l=a("42a1"),u=a.n(l),c=a("27f9"),s=a.n(c),f=a("9c40"),d=a.n(f),p=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=p.exports,p.options.components=Object.assign({QPopupEdit:u(),QInput:s(),QBtn:d()},p.options.components)},e2da:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidID=e.isValidDate=e.isNumber=e.required=void 0,a("6762"),a("c5f6"),a("4917");var n=function(t){return!!t||"Pakollinen kenttä"};e.required=n;var o=function(t){return!t||t.match(/^\d+([,.]\d+)?$/)||"Virheellinen luku"};e.isNumber=o;var r=function(t,e,a){var n=Number(t),o=Number(e),r=Number(a);r<100&&(r+=2e3);var i=[4,6,9,11],l=r%4===0&&(r%100!==0||r%400===0);return!(isNaN(n)||isNaN(o)||isNaN(r))&&(!(n<1||o<1||r<1900||r>2099)&&(!(o>12)&&(!(n>31)&&(!(i.includes(o)&&n>30)&&(2!==o||!(n>29||!l&&n>28))))))};e.isValidDate=r;var i=function(t){var e="Virheellinen henkilötunnus";if(!t)return e;var a=t.slice(6,7);if(!a.match(/^[-A]$/))return e;var n="-"===a?"19":"20",o=t.slice(0,2),i=t.slice(2,4),l=n+t.slice(4,6);if(!r(o,i,l))return e;var u=t.slice(7,10);if(!u.match(/^\d{3}$/))return e;var c=Number(t.slice(0,6)+u)%31,s=t.slice(10,11),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return s===f[c]||e};e.isValidID=i}}]);